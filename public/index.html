<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dayz buddy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <!-- Loading Bootstrap -->
<!--     <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
 -->
    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/body.css">

<!--     <link rel="shortcut icon" href="images/favicon.ico">
 -->

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div class="bar0">
        <div class="top-text"><h1>Dayz buddy</h1></div>
    </div>

    <div class="bar-top">
    </div>

    <div class="bar1">
        <div class="find-buddy-wrapper" id="nickWrap">
            <div class="login-form">
                <h3>Tired of playing solo?</h3>
                <p>This app will match you with another survivor and give you a suggested meetup location. Use the chat to decide wich server you will play on.</p>
                    <div class="form-group">

                        <form id="setNick">

                        <input autocomplete="off" type="text" class="form-control login-field" value="" placeholder="Enter your ingame name" id="nickname" />

                        <label class="login-field-icon fui-user" for="login-name"></label>
                        <br>
                        <a onclick="$(this).closest('form').submit(); return false;" class="btn btn-primary btn-lg btn-block" href="#">Find buddy</a>

                        </form>

                    </div>
            </div>
        </div>

        <div class="contentWrapper" id="loadWrap">
            <img src="img/loading.png" class="load-img"></img>
            <center><h6><b>Finding buddy</b></h6></center>
        </div>


        <div class="contentWrapper" id="contentWrap">

            <div class="chat" id="chatWrap"></div>
            <div class="login-form">

                    <div class="form-group">

                        <form id="SubmitMessage">

                        <input autocomplete="off" type="text" class="form-control login-field" value="" placeholder="Chat" id="message" />

                        <label class="login-field-icon fui-chat" for="login-name"></label>
                        <br>


                        </form>

                    </div>
            </div>
        </div>
<!--             <div id="contentWrap" >
                <div class="login-form-white" id="chatWrap">
                </div>
                <div class="form-group">
                    <br>
                    <form id="SubmitMessage">

                    <label class="login-field-icon fui-user" for="login-name"></label>

                    <input autocomplete="off" type="text" class="form-control login-field" value="" placeholder="Chat" id="message" />


                    </form>

                </div> -->



<!--             <div id="users"></div>
            <p>Enter message:</p>
            <form id="SubmitMessage">
                <input size="35" id="message"></input><br><br>
            <input type="submit"></input>
            </form> -->

            </div>

    </div>



    <div class="bar2">


        <div class="dayz-role-wrapper">

            <h3 class="dayz-role-wrapper-text">Try some roleplay</h3>

            <p class="dayz-role-wrapper-text">Get some stories worth posting on the interwebz and rake in that sweet sweet karma.</p>

            <a onclick="showQuotation(); return false;" class="btn btn-primary btn-lg btn-block" href="#">Randomize</a>
            <br><br>

            <div class="login-form">
                <p id="quotation"></p>
                <p id="quotation2"></p>
            </div>

        </div>
    </div>
    <!-- /.container -->

<script>

// Role

var Quotation = [
        "<h5>Character: Drunk russian</h5> <p>You have consumed enough alcohol to kill an ordinary man. But you are russian, yes. Behave irrationally and have moodswings</p>",

        "<h5>Character: Goldfish</h5> <p>You have extremely short memory. You have extremly short memory. you hav.. oh a cookie</p>",

        "<h5>Character: Redneck</h5> <p>You are a below average intelligent person with questionable morals and a you are proud about it. You are from murica and you fucking hate commies.</p>",

        "<h5>Character: Psychopath</h5> <p>You are a fucking crazy, insane and a heavy breathing maniac who scare the living shit out of people.</p>",

        "<h5>Character: Religous</h5> <p>Every word of God is pure; He is a shield to those who put their trust in Him. Prov. 30:5, Live your life as a true christian.</p>",

        "<h5>Character: Child</h5> <p>Scared,lonely and your parents are long gone.</p>",

        "<h5>Character: Cowboy</h5> <p>You are a leathal gentleman who charm everyone with your southern accent.</p>",

        "<h5>Character: Military</h5> <p>Everything you do is done with extreme attention to details. And with your particular set of skills you execute missions without fail.</p>",

        "<h5>Character: Royal</h5> <p>Your royal blood goes back for generations. The other survivors are of lesser importance, pessants if u will. Use them to get what you want. </p>",

        "<h5>Character: Flamboyant</h5> <p>You are the most dashing survivor in chernarus and with your excellent sence for fashion you fight for equal rights for everyone.</p>"
    ],
    Q = Quotation.length;

// Misson
    var Quotation2 = [
        "<h5>Misson: Bookseller</h5> <p>Collect books and setup up shop in a town or become a traveling salesmen.</p>",

        "<h5>Misson: Storyteller</h5> <p>Find a gaslamp and gather a group of random people on a nighttime server. Proceed to setup camp somewhere cozy and tell stories</p>",

        "<h5>Misson: Robber</h5> <p>Rob people for anything of value, but honor your profession and only use violence when necessary.</p>",

        "<h5>Misson: Party starter</h5> <p>Become the partystarter. Play music in direct and do the wiggle dance, gather as many people you can.</p>",

        "<h5>Misson: Fortuneteller</h5> <p>Make your way thru chernarus as a fortuneteller offering your service for some beans</p>",

        "<h5>Misson: Salesmen</h5> <p>Hoard up with the mountain backpack and setup shop in a big city</p>",

        "<h5>Misson: Superhero</h5> <p>Keep the scum out of a city of your choice: Berezino, Elektro, or Cherno. Protect the weak, destroy the wicked.</p>",

        "<h5>Misson: Boxer</h5> <p>Challenge anyone and everyone to boxing. No weapons allowed.</p>",

        "<h5>Misson: Shepard</h5> <p>Roam the coast and gather all the bambies/freshspawns on the way. Try to get as big of a group you can.</p>",

       "<h5>Misson: Medic</h5> <p>Collect medical gear and go about helping players with food, bandages, blood etc.</p>",

        "<h5>Misson: Buddist</h5> <p>Material things have no value for you. Gather stuff and give it to people who cross your path.</p>"
    ],
    Q2 = Quotation.length;

function showQuotation(){
    var whichQuotation = Math.round(Math.random()*(Q-1));
    var whichQuotation2 = Math.round(Math.random()*(Q2-1));

    document.getElementById("quotation").innerHTML = Quotation[whichQuotation];

    document.getElementById("quotation2").innerHTML = Quotation2[whichQuotation2];
}

showQuotation();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47339612-2', 'dayzbuddy.com');
  ga('send', 'pageview');

</script>

    <script src="/socket.io/socket.io.js"></script>
    <script>

        jQuery(function($){
            var socket = io.connect();
            var $nickForm = $('#setNick');
            var $nickError = $('#nickError');
            var $nickBox = $('#nickname');
            var $chatForm = $('#SubmitMessage');
            var $messageBox = $('#message');
            var $users = $('#users');
            var $chat = $('#chatWrap');
            var $loader = $('#loadWrap');
            var $chatWrap = $('#contentWrap')


            // Sanitize user input

            (function($) {
             $.sanitize = function(input) {
                var SubmitMessage = input.replace(/<script[^>]*?>.*?<\/script>/gi, '').
                    replace(/<[\/\!]*?[^<>]*?>/gi, '').
                    replace(/<style[^>]*?>.*?<\/style>/gi, '').
                    replace(/<![\s\S]*?--[ \t\n\r]*>/gi, '');
                    return SubmitMessage;
                };
                })(jQuery);

                $(function() {
                    $('#sanitize').click(function() {
                        var $input = $('#input').val();
                        $('#SubmitMessage').text($.sanitize($input));
                    });

                });

            // Login

            $nickForm.submit(function(e){
                e.preventDefault();

                if ($nickBox.val().trim()){
                    socket.emit('new user', $nickBox.val(), function(data) {
                        if(data){
                            $('#nickWrap').hide();
                            $loader.show();
                         }
                     });

                    $nickBox.val('');
                } else if ($nickBox.val() && !$nickBox.val().trim()) {
                    $nickBox.val('');
                }

            });

            // Message

            $chatForm.submit(function(e){

                if (!$messageBox.val()){

                    e.preventDefault();
                    $messageBox.val("")

                } else{

                    e.preventDefault();
                    socket.emit('new message', $messageBox.val());
                    $messageBox.val("");
                }

            });

            socket.on('match found', function() {
                $loader.hide();
                $chatWrap.show();
             });

            // Print message

            socket.on('broadcast', function(data){
                $chat.append('<b> CupidBOT:</b> Match found, chatroom initialized <br/> <b>Suggested meetup location:</b> '+ data.location.name + ' <a target="_blank" href="  '+data.location.coords+'">Map</a><br>Now kiss!');

            });

            socket.on('send message', function(data){
                $chat.append('<p><b>' + data.username + ': </b>' + data.msg + "</p>");
                $chat.stop().animate({scrollTop: $chat[0].scrollHeight}, 800);
            });
        });



    </script>

    <!-- Load JS here for greater good =============================-->

    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap-switch.js"></script>
    <script src="js/flatui-checkbox.js"></script>
    <script src="js/flatui-radio.js"></script>
    <script src="js/jquery.tagsinput.js"></script>
    <script src="js/jquery.placeholder.js"></script>
  </body>
</html>
